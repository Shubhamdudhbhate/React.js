<%- include('partials/head') %>
  <style>
    body {
      background: #000000;
      color: white;
    }

    .home-card {
      width: 16rem;
      background-color: #1f1f1f;
      border-radius: 1rem;
      overflow: hidden;
      box-shadow: 0 4px 10px rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
      position: relative;
    }

    .home-card:hover {
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
      transform: translateY(-2px);
    }

    .home-card img {
      width: 100%;
      height: 10rem;
      object-fit: cover;
    }

    .home-card-content {
      padding: 1rem;
    }

    .home-card-content h3 {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 0.25rem;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .home-card-content p {
      font-size: 0.85rem;
      color: #d1d5db;
      /* gray-300 */
      margin-bottom: 0.5rem;
    }

    .home-card-badges {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.85rem;
    }

    .home-card-badges .price {
      font-weight: 600;
      color: #ef4444;
    }

    .home-card-badges .rating {
      display: flex;
      align-items: center;
      color: #fbbf24;
    }

    .buy-btn {
      background: #22c55e;
      /* green */
      color: white;
      border: none;
      border-radius: 0.5rem;
      padding: 0.5rem 1rem;
      cursor: pointer;
      font-size: 0.875rem;
      transition: all 0.3s ease;
    }

    .buy-btn:hover {
      background: #16a34a;
      /* darker green */
    }

    /* Delete Button CSS */
    .delete-btn {
      background: #ef4444;
      /* red */
      color: white;
      border: none;
      border-radius: 0.5rem;
      padding: 0.5rem 1rem;
      cursor: pointer;
      font-size: 0.875rem;
      transition: all 0.3s ease;
    }

    .delete-btn:hover {
      background: #dc2626;
      /* darker red */
    }


    .button-container form {
      margin-right: 6rem;
      /* adds space between forms/buttons */
    }


    .container-flex {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1.5rem;
    }
  </style>
  </head>

  <body>
    <%- include('partials/nav') %>

      <main class="container mx-auto px-6 py-10 max-w-6xl">
        <h2 class="text-2xl text-red-500 font-bold text-center mb-8">
          Explore Our Registered Homes
        </h2>

        <div class="container-flex">
          <% registeredHomes.forEach((home, index)=> { %>
            <div class="home-card">
              <img src="<%= home.photoUrl || 'https://via.placeholder.com/300x180?text=No+Image' %>"
                alt="<%= home.houseName %>">
              <div class="home-card-content">
                <h3>
                  <%= home.houseName %>
                </h3>
                <p>
                  <%= home.location %>
                </p>
                <div class="home-card-badges">
                  <span class="price">₹ <%= home.price %> /Month</span>
                  <span class="rating">⭐ <%= home.rating %></span>
                </div>
                <div class="flex justify-center mt-4 button-container">
                  <!-- Buy Button -->
                  <form action="/host/buy-home/<%= index %>" method="POST">
                    <button type="submit" class="buy-btn">Buy</button>
                  </form>

                  <!-- Delete Button -->
                  <form action="/host/delete-home/<%= index %>" method="POST">
                    <button type="submit" class="delete-btn">Delete</button>
                  </form>
                </div>

              </div>
            </div>
            <% }) %>

        </div>
      </main>
  </body>

  </html>